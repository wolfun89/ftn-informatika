{"ast":null,"code":"import axios from 'axios';\nimport { logout } from '../services/auth';\nvar ZavrsniAxios = axios.create({\n  baseURL: 'http://localhost:8080/api'\n  /* other custom settings */\n});\n\nZavrsniAxios.interceptors.request.use(function presretac(config) {\n  const jwt = window.localStorage['jwt'];\n  if (jwt) {\n    config.headers['Authorization'] = \"Bearer \" + jwt;\n  }\n  return config;\n});\nZavrsniAxios.interceptors.response.use(function success(response) {\n  return response;\n}, function failure(error) {\n  let jwt = window.localStorage['jwt'];\n  if (jwt) {\n    if (error.response && error.response.status == 403) {\n      logout();\n    }\n  }\n  throw error;\n});\nexport default ZavrsniAxios;","map":{"version":3,"names":["axios","logout","ZavrsniAxios","create","baseURL","interceptors","request","use","presretac","config","jwt","window","localStorage","headers","response","success","failure","error","status"],"sources":["F:/JavaWebDevelopment/JWD59StefanStojkovicFinalTest/jwd-front/zavrsni-app/src/apis/ZavrsniAxios.js"],"sourcesContent":["import axios from 'axios';\r\nimport { logout } from '../services/auth';\r\n\r\nvar ZavrsniAxios = axios.create({\r\n  baseURL: 'http://localhost:8080/api',\r\n  /* other custom settings */\r\n});\r\n\r\nZavrsniAxios.interceptors.request.use(\r\n  function presretac(config) {\r\n    const jwt = window.localStorage['jwt']\r\n    if (jwt) {\r\n      config.headers['Authorization'] = \"Bearer \" + jwt\r\n    }\r\n    return config;\r\n  }\r\n);\r\n\r\nZavrsniAxios.interceptors.response.use(\r\n  function success(response) {\r\n    return response;\r\n  },\r\n  function failure(error) {\r\n    let jwt = window.localStorage['jwt'];\r\n    if (jwt) {\r\n      if (error.response && error.response.status == 403) {\r\n        logout();\r\n      }\r\n    }\r\n\r\n    throw error;\r\n  }\r\n);\r\n\r\nexport default ZavrsniAxios;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,kBAAkB;AAEzC,IAAIC,YAAY,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC9BC,OAAO,EAAE;EACT;AACF,CAAC,CAAC;;AAEFF,YAAY,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CACnC,SAASC,SAAS,CAACC,MAAM,EAAE;EACzB,MAAMC,GAAG,GAAGC,MAAM,CAACC,YAAY,CAAC,KAAK,CAAC;EACtC,IAAIF,GAAG,EAAE;IACPD,MAAM,CAACI,OAAO,CAAC,eAAe,CAAC,GAAG,SAAS,GAAGH,GAAG;EACnD;EACA,OAAOD,MAAM;AACf,CAAC,CACF;AAEDP,YAAY,CAACG,YAAY,CAACS,QAAQ,CAACP,GAAG,CACpC,SAASQ,OAAO,CAACD,QAAQ,EAAE;EACzB,OAAOA,QAAQ;AACjB,CAAC,EACD,SAASE,OAAO,CAACC,KAAK,EAAE;EACtB,IAAIP,GAAG,GAAGC,MAAM,CAACC,YAAY,CAAC,KAAK,CAAC;EACpC,IAAIF,GAAG,EAAE;IACP,IAAIO,KAAK,CAACH,QAAQ,IAAIG,KAAK,CAACH,QAAQ,CAACI,MAAM,IAAI,GAAG,EAAE;MAClDjB,MAAM,EAAE;IACV;EACF;EAEA,MAAMgB,KAAK;AACb,CAAC,CACF;AAED,eAAef,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}